(self.webpackChunkimage_uploader=self.webpackChunkimage_uploader||[]).push([[228],{3228:(e,t,n)=>{"use strict";n.r(t),n.d(t,{UploaderModule:()=>z});var o=n(8583),r=n(5855);function i(e,t,n,o,r,i,a){try{var p=e[i](a),s=p.value}catch(c){return void n(c)}p.done?t(s):Promise.resolve(s).then(o,r)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(o,r){var a=e.apply(t,n);function p(e){i(a,o,r,p,s,"next",e)}function s(e){i(a,o,r,p,s,"throw",e)}p(void 0)})}}var p=n(7263),s=n(639);let c=(()=>{class e{constructor(e){this.document=e}switchTheme(e){let t=this.document.getElementById("app-theme");t&&(t.href=e+".css")}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(o.K0))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var l=n(2340),d=n(1841);let u=(()=>{class e{constructor(e){this.http=e,this.baseUrl=l.N.baseUrl}uploadImage(e,t){return this.http.post(`${this.baseUrl}/image/`,{ext:e,image:t})}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(d.eN))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var g=n(1104),m=n(2061),h=n(4051),f=n(3435);function b(e,t){1&e&&(s._UZ(0,"img",6),s.TgZ(1,"p",4),s._uU(2,"Drag & drop your image here"),s.qZA())}const v=function(){return{"text-align":"center"}};let x=(()=>{class e{constructor(){this.sendFile=new s.vpe}myUploader(e){this.sendFile.emit(e.files[0])}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-uploader"]],outputs:{sendFile:"sendFile"},decls:7,vars:9,consts:[["header","Upload your image","subheader","File should be .jpeg, .png, ...","styleClass","shadow-5"],[1,"drag-div"],["name","myfile[]","url","./upload.php","accept","image/*",3,"maxFileSize","customUpload","auto","uploadHandler"],["pTemplate","content"],[1,"text-mute"],["styleClass","p-button-raised p-button-sm btn-cfile","chooseLabel","Choose File","mode","basic","accept","image/*",3,"maxFileSize","customUpload","auto","uploadHandler"],["src","assets/imgs/image.svg","alt",""]],template:function(e,t){1&e&&(s.TgZ(0,"p-card",0),s.TgZ(1,"div",1),s.TgZ(2,"p-fileUpload",2),s.NdJ("uploadHandler",function(e){return t.myUploader(e)}),s.YNc(3,b,3,0,"ng-template",3),s.qZA(),s.qZA(),s.TgZ(4,"p",4),s._uU(5,"Or"),s.qZA(),s.TgZ(6,"p-fileUpload",5),s.NdJ("uploadHandler",function(e){return t.myUploader(e)}),s.qZA(),s.qZA()),2&e&&(s.Akn(s.DdM(8,v)),s.xp6(2),s.Q6J("maxFileSize",5e6)("customUpload",!0)("auto",!0),s.xp6(4),s.Q6J("maxFileSize",5e6)("customUpload",!0)("auto",!0))},directives:[h.Z,f.p,p.jx],styles:[".drag-div[_ngcontent-%COMP%]{border:2px dashed var(--blue-200);border-radius:10px;width:100%}.text-mute[_ngcontent-%COMP%]{color:var(--gray-500)}[_nghost-%COMP%]     .p-fileupload .p-fileupload-buttonbar{display:none}[_nghost-%COMP%]     .p-fileupload .p-fileupload-content{border:none;border-radius:10px;background-color:var(--surface-b)}[_nghost-%COMP%]     .p-card .p-card-subtitle{font-size:.85rem;margin-top:20px}  .p-card .p-card-body{padding:2rem 2.25rem}[_nghost-%COMP%]     .p-card .p-card-content{padding:1.75rem 0 1rem}[_nghost-%COMP%]     .p-button .p-button-icon-left{display:none}[_nghost-%COMP%]     .p-fileupload-content .p-progressbar{display:none}[_nghost-%COMP%]     .p-fileupload-files{display:none}"]}),e})();var y=n(3400);const Z=function(){return{height:"6px"}};let w=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-loader"]],decls:4,vars:3,consts:[["styleClass","shadow-5"],["mode","indeterminate"]],template:function(e,t){1&e&&(s.TgZ(0,"p-card",0),s.TgZ(1,"h4"),s._uU(2,"Uploading..."),s.qZA(),s._UZ(3,"p-progressBar",1),s.qZA()),2&e&&(s.xp6(3),s.Akn(s.DdM(2,Z)))},directives:[h.Z,y.k],styles:["h4[_ngcontent-%COMP%]{margin:0 auto 25px}[_nghost-%COMP%]     .p-card .p-card-body{padding:1.5rem}[_nghost-%COMP%]     .p-card .p-card-content{padding:0}"]}),e})();var T=n(2790),U=n(1875);function _(e,t){1&e&&(s._UZ(0,"i",4),s.TgZ(1,"p",5),s._uU(2,"Uploaded Successfully!"),s.qZA())}function C(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",6),s._UZ(1,"input",7),s.TgZ(2,"button",8),s.NdJ("click",function(){return s.CHM(e),s.oxw().copyLink()}),s._uU(3," Copy Link "),s.qZA(),s.qZA()}if(2&e){const e=s.oxw();s.xp6(1),s.Q6J("value",e.image),s.xp6(1),s.Q6J("life",1500)}}const M=function(){return{"text-align":"center"}};let k=(()=>{class e{constructor(){this.image=""}copyLink(){this.tooltip.activate(),navigator.clipboard.writeText(this.image).then().catch(e=>console.error(e))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-card-image"]],viewQuery:function(e,t){if(1&e&&s.Gf(T.u,5),2&e){let e;s.iGM(e=s.CRH())&&(t.tooltip=e.first)}},inputs:{image:"image"},decls:4,vars:4,consts:[["styleClass","shadow-5"],["pTemplate","header"],["alt","","srcset","",3,"src"],["pTemplate","footer"],[1,"pi","pi-check-circle"],[1,"title"],[1,"p-inputgroup"],["type","text","pInputText","","readonly","",3,"value"],["type","button","pButton","","pTooltip","Copied!","tooltipPosition","top","tooltipEvent","focus",3,"life","click"]],template:function(e,t){1&e&&(s.TgZ(0,"p-card",0),s.YNc(1,_,3,0,"ng-template",1),s._UZ(2,"img",2),s.YNc(3,C,4,2,"ng-template",3),s.qZA()),2&e&&(s.Akn(s.DdM(3,M)),s.xp6(2),s.Q6J("src",t.image,s.LSH))},directives:[h.Z,p.jx,U.o,g.Hq,T.u],styles:[".p-card .p-card-header{padding:1.5rem 1.5rem 0}  .p-card .p-card-content{padding:0}.title[_ngcontent-%COMP%]{font-weight:700;margin-bottom:0}i[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--green-500)}img[_ngcontent-%COMP%]{width:100%;border-radius:10px;margin-bottom:10px}input[_ngcontent-%COMP%]{font-size:small;font-weight:500;background-color:var(--surface-c)}[_nghost-%COMP%]     .p-inputgroup input:first-child{border-top-left-radius:10px;border-bottom-left-radius:10px}[_nghost-%COMP%]     .p-inputgroup button:last-child{border-top-right-radius:10px;border-bottom-right-radius:10px;padding:10px 15px;font-size:small}.text-footer[_ngcontent-%COMP%]{color:var(--primary-color);font-size:12px!important;margin-top:1.5rem;cursor:pointer}"]}),e})();function O(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"app-uploader",8),s.NdJ("sendFile",function(t){return s.CHM(e),s.oxw().uploadFile(t)}),s.qZA()}}function P(e,t){1&e&&s._UZ(0,"app-loader")}function A(e,t){if(1&e&&s._UZ(0,"app-card-image",9),2&e){const e=s.oxw();s.Q6J("image",e.image)}}const q=[{path:"",children:[{path:"image-uploader",component:(()=>{class e{constructor(e,t,n){this.themeService=e,this.messageService=t,this.imageService=n,this.currentTheme={name:"lara-light-blue",icon:"pi pi-moon"},this.image="",this.showUploader=!0,this.showLoading=!1}uploadFile(e){var t=this;const n=new FileReader;let o,r=e.name.split(".")[1];this.showUploader=!1,this.showLoading=!0,n.readAsDataURL(e),n.onload=()=>{o=n.result},setTimeout(a(function*(){yield t.upload(r,o)}),1500)}changeTheme(){const{name:e}=this.currentTheme;this.currentTheme="lara-light-blue"===e?{name:"lara-dark-blue",icon:"pi pi-sun"}:{name:"lara-light-blue",icon:"pi pi-moon"},this.themeService.switchTheme(this.currentTheme.name)}backToUploader(){this.showLoading=!1,this.showUploader=!0,this.image=""}upload(e,t){this.imageService.uploadImage(e,t).subscribe(e=>{e.ok?(this.image=e.url,this.showLoading=!1):(this.backToUploader(),this.messageService.add({severity:"error",summary:"Oh no!",detail:"Something went wrong while uploading image."}))})}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(c),s.Y36(p.ez),s.Y36(u))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-image-uploader"]],features:[s._Bn([p.ez])],decls:9,vars:4,consts:[[1,"theme-btn-div"],["pButton","","pRipple","","type","button","icon","pi pi-upload",1,"p-button-rounded","p-button-primary","mr-2",3,"click"],["pButton","","pRipple","","type","button",1,"p-button-rounded","p-button-secondary",3,"icon","click"],[1,"container"],["id","inner-box",1,""],[3,"sendFile",4,"ngIf"],[4,"ngIf"],[3,"image",4,"ngIf"],[3,"sendFile"],[3,"image"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"button",1),s.NdJ("click",function(){return t.backToUploader()}),s.qZA(),s.TgZ(2,"button",2),s.NdJ("click",function(){return t.changeTheme()}),s.qZA(),s.qZA(),s.TgZ(3,"div",3),s.TgZ(4,"div",4),s._UZ(5,"p-messages"),s.YNc(6,O,1,0,"app-uploader",5),s.YNc(7,P,1,0,"app-loader",6),s.YNc(8,A,1,1,"app-card-image",7),s.qZA(),s.qZA()),2&e&&(s.xp6(2),s.Q6J("icon",t.currentTheme.icon),s.xp6(4),s.Q6J("ngIf",t.showUploader),s.xp6(1),s.Q6J("ngIf",t.showLoading),s.xp6(1),s.Q6J("ngIf",!t.showUploader&&!t.showLoading))},directives:[g.Hq,m.V,o.O5,x,w,k],styles:[".container[_ngcontent-%COMP%]{min-height:85vh;display:flex;align-items:center;justify-content:center}.theme-btn-div[_ngcontent-%COMP%]{text-align:center;margin:1rem .75rem .5rem}#inner-box[_ngcontent-%COMP%]{width:400px}"]}),e})()},{path:"**",redirectTo:"image-uploader"}]}];let F=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[r.Bz.forChild(q)],r.Bz]}),e})();var J=n(6407);let z=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[o.ez,F,J.g]]}),e})()}}]);